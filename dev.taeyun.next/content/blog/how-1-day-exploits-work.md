---
title: '공격자들은 어떻게 1-Day 취약점을 파고드는가? (기술편)'
description: '보안 패치가 공개된 후, 공격자들이 패치를 리버싱하여 공격 코드를 만들고 이를 악용하는 구체적인 기술적 과정을 알아봅니다.'
image: '/images/blog/exploit-development.jpg'
tags: 'Patch Diffing, Reverse Engineering, Exploit, 1-Day'
created: '2025-09-10'
---

## 서론: 공개된 패치, 공격의 청사진이 되다

지난 글에서 1-Day CVE가 '알려진' 위협임에도 불구하고 왜 위험한지에 대해 알아보았습니다. 이번에는 공격자의 입장에서, 공개된 보안 패치를 어떻게 공격의 청사진으로 활용하는지 그 기술적인 과정을 단계별로 살펴보겠습니다.

핵심은 **'패치 디핑(Patch Diffing)'**과 **'리버스 엔지니어링(Reverse Engineering)'**에 있습니다.

## 1단계: 정보 수집 및 패치 확보

공격의 첫 단계는 정보입니다. 공격자는 CVE 데이터베이스, 보안 연구소 블로그, GitHub 커밋 로그 등을 지속적으로 모니터링하며 새로운 보안 패치 릴리즈를 주시합니다.

패치가 공개되면, 공격자는 패치 적용 이전 버전과 이후 버전의 실행 파일 또는 라이브러리를 모두 확보합니다.

## 2단계: 패치 디핑 (Patch Diffing)

'Diffing'은 '차이점을 비교한다'는 의미입니다. 공격자는 `BinDiff`, `Diaphora`와 같은 전문적인 바이너리 비교 도구를 사용하여 패치 전후 파일의 차이점을 분석합니다.

이 과정을 통해, 공격자는 다음과 같은 사실을 알아냅니다.

* **어떤 함수가 수정되었는가?**
* **코드의 로직이 어떻게 변경되었는가?** (예: 버퍼 크기 검사 로직 추가, 정수 오버플로우 방지 코드 추가 등)

패치 디핑은 수천, 수만 줄의 코드 중 단 몇 줄의 수정 사항, 즉 취약점이 존재했던 바로 그 '지점'을 정확하게 찾아내는 과정입니다.

## 3단계: 리버스 엔지니어링 및 취약점 분석

수정된 코드를 찾았다면, 이제 왜 이 코드가 수정되었는지 분석할 차례입니다. 공격자는 IDA Pro, Ghidra와 같은 디스어셈블러/디컴파일러를 사용하여 수정된 함수 주변의 코드를 정밀하게 분석합니다.

예를 들어, 패치를 통해 `strcpy` 함수가 `strncpy`로 변경되었다면, 공격자는 이것이 버퍼 오버플로우 취약점을 막기 위한 패치였음을 즉시 알아차릴 수 있습니다. 이 분석을 통해 공격자는 취약점을 트리거할 수 있는 정확한 입력값이나 조건을 파악하게 됩니다.

## 4단계: 공격 코드 (Exploit) 개발

이제 모든 준비가 끝났습니다. 공격자는 분석한 취약점 정보를 바탕으로 실제 공격 코드를 작성합니다.

* **버퍼 오버플로우:** 특정 길이 이상의 데이터를 입력하여 프로그램의 실행 흐름을 제어하고 악성 셸코드를 실행.
* **SQL 인젝션:** 입력값 검증 로직이 수정된 부분을 파악하여, 이를 우회하는 새로운 쿼리 문자열을 제작.
* **원격 코드 실행(RCE):** 취약점을 통해 원격 서버에서 임의의 명령어를 실행할 수 있는 페이로드를 개발.

이렇게 개발된 공격 코드는 자동화된 스캐너에 탑재되어, 아직 패치를 적용하지 않은 수많은 시스템을 찾아 무차별적으로 공격을 시도하게 됩니다.

결론적으로, 개발자에게는 '보안 강화'의 증거인 패치가, 공격자에게는 '공격의 지름길'을 알려주는 지도 역할을 하는 셈입니다.
